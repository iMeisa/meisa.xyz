{{template "base" .}}

{{define "title"}}F1 Setup Helper{{end}}

{{define "content"}}
    <div class="container">

        <h1 class="mb-4">F1 Setup Helper</h1>

        <div class="btn-group mt-4 mb-4" role="group" aria-label="part-sections">
            <button class="btn btn-primary" type="button" onclick="showTableGroup('aero')">Aerodynamics</button>
            <button class="btn btn-primary" type="button" onclick="showTableGroup('transmission')">Transmission</button>
            <button class="btn btn-primary" type="button" onclick="showTableGroup('suspension-geo')">Suspension Geometry</button>
            <button class="btn btn-primary" type="button" onclick="showTableGroup('suspension')">Suspension</button>
            <button class="btn btn-primary" type="button" onclick="showTableGroup('brakes')">Brakes</button>
            <button class="btn btn-primary" type="button" onclick="showTableGroup('tires')">Tires</button>
        </div>

        <table class="table table-dark table-responsive table-aero mt-4 mb-4" id="table-aero">
            <tbody>
            <tr class="front-wing">
                <td class="part-name">Front Wing</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 60%"></div>
                    </div>
                    6
                </td>
                <td class="part-desc">Min 1 - 11 Max</td>
            </tr>
            <tr class="rear-wing">
                <td class="part-name">Rear Wing</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 90%"></div>
                    </div>
                    9
                </td>
                <td class="part-desc">Min 1 - 11 Max</td>
            </tr>
            </tbody>
        </table>

        <table class="table table-dark table-responsive table-transmission mt-4 mb-4" id="table-transmission">
            <tbody>
            <tr class="on-throttle">
                <td class="part-name">On Throttle</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 40%"></div>
                    </div>
                    70%
                </td>
                <td class="part-desc">Unlocked 50% - 100% Locked</td>
            </tr>
            <tr class="off-throttle">
                <td class="part-name">On Throttle</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 10%"></div>
                    </div>
                    55%
                </td>
                <td class="part-desc">Unlocked 50% - 100% Locked</td>
            </tr>
            </tbody>

        </table>

        <table class="table table-dark table-responsive table-suspension-geo mt-4 mb-4" id="table-suspension-geo">
            <tbody>

            <tr class="front-camber">
                <td class="part-name">Front Camber</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 100%"></div>
                    </div>
                    -2.50
                </td>
                <td class="part-desc">Min -3.50 - -2.50 Max</td>
            </tr>

            <tr class="rear-camber">
                <td class="part-name">Rear Camber</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 0"></div>
                    </div>
                    -2.00
                </td>
                <td class="part-desc">Min -2.00 - -1.00 Max</td>
            </tr>

            <tr class="front-toe">
                <td class="part-name">Front Toe</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 10%"></div>
                    </div>
                    0.06
                </td>
                <td class="part-desc">Min 0.05 - 0.15 Max</td>
            </tr>

            <tr class="rear-toe">
                <td class="part-name">Rear Toe</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 0"></div>
                    </div>
                    0.20
                </td>
                <td class="part-desc">Min 0.20 - 0.50 Max</td>
            </tr>

            </tbody>

        </table>

        <table class="table table-dark table-responsive table-suspension mt-4 mb-4" id="table-suspension">
            <tbody>
            <tr class="front-suspension">
                <td class="part-name">Front Suspension</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 20%"></div>
                        <div class="progress-bar increase-setup" style="width: 10%"></div>
                        <div class="progress-bar decrease-setup" style="width: 10%"></div>
                    </div>
                    <span> 2 -> 1 </span>
                </td>
                <td class="part-desc">Soft 1 - 11 Firm</td>
            </tr>
            <tr class="rear-suspension">
                <td class="part-name">Rear Suspension</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 50%"></div>
                    </div>
                    <span> 5 </span>
                </td>
                <td class="part-desc">Soft 1 - 11 Firm</td>
            </tr>
            <tr class="front-roll">
                <td class="part-name">Front Anti-Roll Bar</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 20%"></div>
                    </div>
                    <span> 2 </span>
                </td>
                <td class="part-desc">Soft 1 - 11 Firm</td>
            </tr>
            <tr class="rear-roll">
                <td class="part-name">Rear Anti-Roll Bar</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 50%"></div>
                    </div>
                    <span> 5 </span>
                </td>
                <td class="part-desc">Soft 1 - 11 Firm</td>
            </tr>
            <tr class="front-height">
                <td class="part-name">Front Ride Height</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 20%"></div>
                    </div>
                    <span> 2 </span>
                </td>
                <td class="part-desc">Min 1 - 11 Max</td>
            </tr>
            <tr class="rear-height">
                <td class="part-name">Rear Ride Height</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 60%"></div>
                    </div>
                    <span> 6 </span>
                </td>
                <td class="part-desc">Min 1 - 11 Max</td>
            </tr>
            </tbody>
        </table>

        <table class="table table-dark table-brakes mt-4 mb-4" id="table-brakes">
            <tbody>
            <tr class="brake-pressure">
                <td class="part-name">Brake Pressure</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 84%"></div>
                    </div>
                    <span> 92 </span>
                </td>
                <td class="part-desc">Min 50% - 100% Max</td>
            </tr>
            <tr class="brake-bias">
                <td class="part-name">Front Brake Bias</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 60%"></div>
                    </div>
                    <span> 58 </span>
                </td>
                <td class="part-desc">Front 70% - 50% Rear</td>
            </tr>
            </tbody>
        </table>

        <table class="table table-dark table-tires mt-4 mb-4" id="table-tires">
            <tbody>
            <tr class="front-right-tire">
                <td class="part-name">Front Right Tire</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 20%"></div>
                    </div>
                    <span> 21.4 </span>
                </td>
                <td class="part-desc">21.0 - 25.0 PSI</td>
            </tr>
            <tr class="front-left-tire">
                <td class="part-name">Front Left Tire</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 20%"></div>
                    </div>
                    <span> 21.4 </span>
                </td>
                <td class="part-desc">21.0 - 25.0 PSI</td>
            </tr>
            <tr class="rear-right-tire">
                <td class="part-name">Rear Right Tire</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 70%"></div>
                    </div>
                    <span> 22.3 </span>
                </td>
                <td class="part-desc">19.5 - 23.5 PSI</td>
            </tr>
            <tr class="rear-left-tire">
                <td class="part-name">Rear Left Tire</td>
                <td class="part-setup">
                    <div class="progress">
                        <div class="progress-bar" style="width: 70%"></div>
                    </div>
                    <span> 22.3 </span>
                </td>
                <td class="part-desc">19.5 - 23.5 PSI</td>
            </tr>
            </tbody>
        </table>
    </div>
{{end}}


{{define "css"}}
    <style>
        /* Tables */
        .part-name {
            width: 33%
        }
        .part-desc {
            width: 33%
        }


        /* Progress Bars */
        .increase-setup {
            background-color: lawngreen;
        }

        .decrease-setup {
            background-color: red;
        }

    </style>
{{end}}


{{define "js"}}

    <script>
        activateNav('nav-f1setup')

        let parts = {
            'aero': {
                "front-wing": {
                    "name": "Front Wing",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 6
                },
                "rear-wing": {
                    "name": "Rear Wing",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 9
                },
            },
            'transmission': {
                "on-throttle": {
                    "name": "Differential On Throttle",
                    "min-name": "Unlocked",
                    "max-name": "Locked",
                    "min-value": 50,
                    "max-value": 100,
                    "default": 70
                },
                "off-throttle": {
                    "name": "Differential Off Throttle",
                    "min-name": "Unlocked",
                    "max-name": "Locked",
                    "min-value": 50,
                    "max-value": 100,
                    "default": 55
                },
            },
            'suspension-geo': {
                "front-camber": {
                    "name": "Front Camber",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": -3.50,
                    "max-value": -2.50,
                    "default": -2.50
                },
                "rear-camber": {
                    "name": "Rear Camber",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": -2.00,
                    "max-value": -1.00,
                    "default": -2.00
                },
                "front-toe": {
                    "name": "Front Toe",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 0.05,
                    "max-value": 0.15,
                    "default": 0.06
                },
                "rear-toe": {
                    "name": "Rear Toe",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 0.20,
                    "max-value": 0.50,
                    "default": 0.20
                },
            },
            'suspension': {
                "front-suspension": {
                    "name": "Front Suspension",
                    "min-name": "Soft",
                    "max-name": "Firm",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 2
                },
                "rear-suspension": {
                    "name": "Rear Suspension",
                    "min-name": "Soft",
                    "max-name": "Firm",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 5
                },
                "front-roll": {
                    "name": "Front Anti-Roll Bar",
                    "min-name": "Soft",
                    "max-name": "Firm",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 2
                },
                "rear-roll": {
                    "name": "Rear Anti-Roll Bar",
                    "min-name": "Soft",
                    "max-name": "Firm",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 5
                },
                "front-height": {
                    "name": "Front Ride Height",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 2
                },
                "rear-height": {
                    "name": "Rear Ride Height",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 1,
                    "max-value": 11,
                    "default": 6
                },
            },
            'brakes': {
                "brake-pressure": {
                    "name": "Brake Pressure",
                    "min-name": "Min",
                    "max-name": "Max",
                    "min-value": 50,
                    "max-value": 100,
                    "default": 92
                },
                "brake-bias": {
                    "name": "Front Brake Bias",
                    "min-name": "Front",
                    "max-name": "Rear",
                    "min-value": 70,
                    "max-value": 50,
                    "default": 58
                },
            },
            'tires': {
                "front-right-tire": {
                    "name": "Front Right Tire",
                    "min-name": "",
                    "max-name": "PSI",
                    "min-value": 21.0,
                    "max-value": 25.0,
                    "default": 21.4
                },
                "front-left-tire": {
                    "name": "Front Left Tire",
                    "min-name": "",
                    "max-name": "PSI",
                    "min-value": 21.0,
                    "max-value": 25.0,
                    "default": 21.4
                },
                "rear-right-tire": {
                    "name": "Rear Right Tire",
                    "min-name": "",
                    "max-name": "PSI",
                    "min-value": 19.5,
                    "max-value": 23.5,
                    "default": 22.3
                },
                "rear-left-tire": {
                    "name": "Rear Left Tire",
                    "min-name": "",
                    "max-name": "PSI",
                    "min-value": 19.5,
                    "max-value": 23.5,
                    "default": 22.3
                },
            }
        }

        function showTableGroup(table_name) {
            for (const group_name in parts) {
                const table_group = document.getElementById(`table-${group_name}`)
                if (table_group.hasAttribute('hidden')) { continue }
                table_group.setAttribute('hidden', '')
            }
            document.getElementById(`table-${table_name}`).removeAttribute('hidden')
        }

    </script>

{{end}}